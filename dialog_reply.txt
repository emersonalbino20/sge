import React, { useState } from 'react';
import axios from 'axios';
import Modal from './Modal'; // Suponha que você tenha um componente Modal

const FormComponent = () => {
  const [showModal, setShowModal] = useState(false);
  const [modalMessage, setModalMessage] = useState('');

  const handleSubmit = async (event) => {
    event.preventDefault();

    try {
      // Submissão do formulário
      const response = await axios.post('/api/submit', {
        // dados do formulário
      });

      // Atualiza a mensagem do modal com base na resposta do back-end
      setModalMessage(response.data.message || 'Dados enviados com sucesso!');
      setShowModal(true);
    } catch (error) {
      setModalMessage('Ocorreu um erro ao enviar os dados.');
      setShowModal(true);
    }
  };

  return (
    <div>
      <form onSubmit={handleSubmit}>
        {/* Campos do formulário */}
        <button type="submit">Enviar</button>
      </form>
      {showModal && <Modal message={modalMessage} onClose={() => setShowModal(false)} />}
    </div>
  );
};

export default FormComponent;
